<!DOCTYPE html>
<html lang="es-ES">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="rights" content="Guayaquil - Ecuador"/>
    <meta name="description" content="Proyecto  - ESTACIÓN CLÁSICA"/>
    <meta name="generator" content="Grupo"/>
    <meta name="author" content="Grupo"/>
    <title>Login</title>
    <link rel="shortcut icon" href="/img/users.png" />
    
    <style>
      * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: Arial, Helvetica, sans-serif;
  background: aliceblue;
  /* min-height: 100vh;
   display: flex;
   align-items: center;
   justify-content: center;*/
}

.login-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 150px;
  z-index: 3;
}

.Felix {
  position: relative;
  z-index: 3;
}

.form-login {
  position: relative;
  z-index: 2;
  width: 450px;
  background: #ffffff;
  box-shadow: 7px 13px 37px #000;
  padding: 30px 40px;
  border-top: 4px solid #29B817;
  color: rgb(0, 0, 0);
  border-radius: 15px;
}
body::after {
  content: "";
  position: fixed;
  bottom: 0;
  left: 0;
  height: 200px;
  width: 100%;
  background-image: linear-gradient(#E60012, #90010d,  #5e0008);
  z-index: 1;
  clip-path: ellipse(100% 100% at 50% 100%);
}

.form-login h5 {
  text-align: center;
  margin-bottom: 30px;
  border-bottom: 1px solid;
  font-size: 20px;
  padding-bottom: 10px;
}

.controls {
  width: 100%;
  border: 1px solid #000203;
  margin-bottom: 25px;
  padding: 11px 10px;
  background: #fcfcfc;
  font-size: 14px;
  border-radius: 15px;
}

.buttons {
  display: block;
  width: 100%;
  height: 40px;
  background: #017bab;
  border: none;
  color: white;
  margin-bottom: 16px;
  border-radius: 15px;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.3s ease;
  transform: translateY(-30%);
}

.buttons:hover {
  background: #29B817;
  color: hsl(0, 0%, 100%);
}

.link-Registro {
  color: #00bfff;
  font-weight: bold;
  text-decoration: none;
}

.link-Registro:hover {
  text-decoration: underline;
  color: #017bab;
}

.Registro {
  text-align: left;
  margin-bottom: 15px;
  font-size: 14px;
}

.link-Recuperar {
  color: #00bfff;
  font-weight: bold;
  text-decoration: none;
}

.link-Recuperar:hover {
  text-decoration: underline;
  color: #017bab;
}

.Recuperar {
  text-align: left;
  margin-bottom: 1px;
  font-size: 15px;
  transform: translateY(-140%);
}

label {
  font-size: 16px;
  color: rgb(8, 8, 8);
  display: inline-block;
  font-family: Arial, Helvetica, sans-serif;
}

.password-container {
  position: relative;
  width: 100%;
  margin-bottom: 25px;
}

.password-container input {
  width: 100%;
  padding: 11px 40px 11px 10px;
  border: 1px solid #000203;
  background: #fcfcfc;
  font-size: 14px;
  border-radius: 15px;
}

.password-container img {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-115%);
  width: 20px;
  height: 20px;
  cursor: pointer;
}

    </style>
  </head>

  <body>
    <div class="row">
      <div class="col-sm-12" style="height: 150px;">
        <h2 style="align-content: center;text-align: center;font-size: 38pt; background-color:#E60012 ; color:#fcfcfc;">ESTACIÓN CLÁSICA</h2>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12">
        <div class="login-container">
          <div class="col-sm-6">
            <div class="Felix">
              <img src="/recursos/logo.png" width="800" height="450" style="border-radius: 10%;">
            </div>
          </div>
          <section class="form-login">
            <h5>Inicia Sesión con tu Cuenta</h5>
            <form id="loginForm" onsubmit="return login(event)">
              <input class="controls" type="text" id="uid" name="uid" placeholder="Apodo"  minlength="10" maxlength="40"  required>
              <div class="password-container">
                   <input class="controls" type="password" id="pwd" name="pwd" placeholder="Contraseña" minlength="10" maxlength="20" required>
                
              </div>
              <div id="loginError" style="color:red; margin-bottom:1em;"></div>
              <input class="buttons" type="submit" value="Iniciar Sesión" onclick="window.location.href='/principal/index.html'">
              
              <p>¿Aún no tienes tu cuenta : <a href="/usuario/registro.html">Registrate YA!!! </a></p>
            </form>
          </section>
        </div>
      </div>
    </div>
    <script>
      // Funcion login
      // async function login(event) {
      //   event.preventDefault();
      //   const uid = document.getElementById('uid').value;
      //   const pwd = document.getElementById('pwd').value;
      //   const errorDiv = document.getElementById('loginError');
      //   errorDiv.textContent = '';

      //   try {
      //     const resp = await fetch('login.php', {
      //       method: 'POST',
      //       headers: {'Content-Type': 'application/json'},
      //       body: JSON.stringify({uid, pwd})
      //     });

      //     if (!resp.ok)
      //       // No hubo respuesta
      //       throw new Error('Error en petición: ' + resp.status);
      //     const resdata = await resp.json();
          
      //     if (resdata.err) {            
      //       console.log(resdata.err);
      //       errorDiv.textContent = resdata.err.msg || 'Credenciales inválidas';
      //     } else { 
      //       console.log('si '  + resdata.data);
      //       if (resdata.data && resdata.data.token) {
      //       // Guardar token y expiracion            
      //       localStorage.setItem('auth_token', resdata.data.token);
      //       localStorage.setItem('auth_expira', resdata.data.expira);

      //       // Mostrar exito
      //       await Swal.fire({
      //         icon: 'success',
      //         title: 'Ingreso Exitoso!',
      //         text: 'Bienvenido',
      //         timer: 1500,
      //         showConfirmButton: false
      //       });

      //       // Redirigir a pantalla principal
      //       window.location.href = 'index.php';
      //       }
      //   }
      //   } catch (err) {
      //     console.error(err);
      //     errorDiv.textContent = 'Error de conexión, inténtalo más tarde.';
      //   }

      //   return false;
      // }

      // // Toggle visibilidad de contraseña
      // document.getElementById('TogglePassword').addEventListener('click', () => {
      //   const pwd = document.getElementById('pwd');
      //   pwd.type = pwd.type === 'password' ? 'text' : 'password';
      // });
    </script>
  </body>
</html>